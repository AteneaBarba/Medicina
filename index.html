<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Malla Interactiva - Medicina UNAL</title>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#2a9d8f">
  <script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('service-worker.js');
  }
</script>
  <style>
    body {
      font-family: 'Quicksand', sans-serif;
      background: #f4f9ff;
      padding: 40px;
      margin: 0;
    }
    h1 {
      color: #2a9d8f;
      text-align: center;
      margin-bottom: 40px;
    }
    .semestre {
      margin-bottom: 40px;
      padding: 20px;
      border-left: 6px solid #2a9d8f;
      background: #ffffff;
      box-shadow: 2px 4px 12px rgba(0, 0, 0, 0.05);
      border-radius: 12px;
    }
    .semestre h3 {
      color: #264653;
      margin-bottom: 15px;
    }
    .materia {
      display: inline-block;
      margin: 6px;
      padding: 12px 18px;
      border-radius: 12px;
      background: #e0e0e0;
      color: #333;
      border: 2px solid #b0bec5;
      cursor: pointer;
      position: relative;
      transition: all 0.3s ease-in-out;
      box-shadow: 2px 2px 8px rgba(0,0,0,0.05);
    }
    .materia:hover {
      transform: scale(1.03);
    }
    .materia[data-estado="cursando"] {
      background: #ffdd57;
      color: #000;
    }
    .materia[data-estado="aprobada"] {
      background: #2a9d8f;
      color: #fff;
      border-color: #21867a;
    }
    .materia.locked {
      opacity: 0.5;
      cursor: not-allowed;
    }
    .tooltip {
      display: none;
      position: absolute;
      bottom: 110%;
      left: 50%;
      transform: translateX(-50%);
      background: #264653;
      color: #fff;
      padding: 5px 10px;
      border-radius: 6px;
      font-size: 12px;
      white-space: nowrap;
    }
    .materia:hover .tooltip {
      display: block;
    }
  </style>
</head>
<body>
<h1>ü©∫ Malla Interactiva ‚Äì Medicina UNAL</h1>

<div class="semestre"><h3>Semestre 1</h3>
  <div class="materia" data-id="EMBRIOLOGIA" data-prereq="">Embriolog√≠a</div>
  <div class="materia" data-id="HISTO1" data-prereq="">Histolog√≠a I</div>
  <div class="materia" data-id="QUIMICA" data-prereq="">Qu√≠mica b√°sica para ciencias de la salud</div>
  <div class="materia" data-id="INTRO_FISIO" data-prereq="">Introducci√≥n a la Fisiolog√≠a</div>
  <div class="materia" data-id="SALUD_SOCIEDAD" data-prereq="">Salud y Sociedad</div>
</div>

<div class="semestre"><h3>Semestre 2</h3>
  <div class="materia" data-id="HISTO2" data-prereq="HISTO1">Histolog√≠a II <span class="tooltip">Prer: Histolog√≠a I</span></div>
  <div class="materia" data-id="FISIO1" data-prereq="INTRO_FISIO">Fisiolog√≠a I <span class="tooltip">Prer: Introducci√≥n a la Fisiolog√≠a</span></div>
  <div class="materia" data-id="BIOQUIMICA" data-prereq="QUIMICA">Bioqu√≠mica <span class="tooltip">Prer: Qu√≠mica b√°sica</span></div>
  <div class="materia" data-id="MED_SOCIEDAD" data-prereq="SALUD_SOCIEDAD">Medicina y Sociedad <span class="tooltip">Prer: Salud y Sociedad</span></div>
  <div class="materia" data-id="ANAT1" data-prereq="EMBRIOLOGIA,HISTO1">Anatom√≠a I <span class="tooltip">Prer: Embriolog√≠a, Histolog√≠a I</span></div>
</div>

<div class="semestre"><h3>Semestre 3</h3>
  <div class="materia" data-id="ANAT2" data-prereq="ANAT1">Anatom√≠a II <span class="tooltip">Prer: Anatom√≠a I</span></div>
  <div class="materia" data-id="BIOMOL" data-prereq="BIOQUIMICA">Biolog√≠a Molecular <span class="tooltip">Prer: Bioqu√≠mica</span></div>
  <div class="materia" data-id="HISTO3" data-prereq="HISTO2">Histolog√≠a III <span class="tooltip">Prer: Histolog√≠a II</span></div>
  <div class="materia" data-id="GENETICA" data-prereq="HISTO1,BIOQUIMICA">Gen√©tica <span class="tooltip">Prer: Histolog√≠a I, Bioqu√≠mica</span></div>
</div>

<div class="semestre"><h3>Semestre 4</h3>
  <div class="materia" data-id="FISIO2" data-prereq="FISIO1">Fisiolog√≠a II <span class="tooltip">Prer: Fisiolog√≠a I</span></div>
  <div class="materia" data-id="INMUNO" data-prereq="GENETICA,BIOQUIMICA,FISIO1,BIOMOL">Inmunolog√≠a <span class="tooltip">Prer: Gen√©tica, Bioqu√≠mica, Fisiolog√≠a I, Biolog√≠a Molecular</span></div>
  <div class="materia" data-id="PATO_GENERAL" data-prereq="HISTO3,ANAT2,BIOQUIMICA,FISIO1">Patolog√≠a General <span class="tooltip">Prer: Histolog√≠a III, Anatom√≠a II, Bioqu√≠mica, Fisiolog√≠a I</span></div>
</div>

<div class="semestre"><h3>Semestre 5</h3>
  <div class="materia" data-id="EPIDEMIO" data-prereq="">Epidemiolog√≠a</div>
  <div class="materia" data-id="PATO_ESPECIAL" data-prereq="PATO_GENERAL,ANAT1,BIOMOL,FISIO2">Patolog√≠a Especial <span class="tooltip">Prer: Patolog√≠a General, Anatom√≠a I, Biolog√≠a Molecular, Fisiolog√≠a II</span></div>
  <div class="materia" data-id="PARASITO" data-prereq="INMUNO">Parasitolog√≠a <span class="tooltip">Prer: Inmunolog√≠a</span></div>
  <div class="materia" data-id="MICROBIO" data-prereq="FISIO2">Microbiolog√≠a <span class="tooltip">Prer: Fisiolog√≠a II</span></div>
  <div class="materia" data-id="INTRO_MEDINT" data-prereq="PATO_GENERAL">Introducci√≥n a la Medicina Interna <span class="tooltip">Prer: Patolog√≠a General</span></div>
</div>
<div class="semestre"><h3>Semestre 6</h3>
  <div class="materia" data-id="MEDINT1" data-prereq="INTRO_MEDINT">Medicina Interna I <span class="tooltip">Prer: Introducci√≥n a la Medicina Interna</span></div>
  <div class="materia" data-id="FARMACO" data-prereq="PATO_ESPECIAL,MICROBIO">Farmacolog√≠a <span class="tooltip">Prer: Patolog√≠a Especial, Microbiolog√≠a</span></div>
  <div class="materia" data-id="PSIQUIATRIA1" data-prereq="INTRO_MEDINT">Psiquiatr√≠a I <span class="tooltip">Prer: Introducci√≥n a la Medicina Interna</span></div>
  <div class="materia" data-id="INTRO_IMG" data-prereq="PATO_ESPECIAL">Introducci√≥n a las Im√°genes Diagn√≥sticas <span class="tooltip">Prer: Patolog√≠a Especial</span></div>
</div>

<div class="semestre"><h3>Semestre 7</h3>
  <div class="materia" data-id="MEDINT2" data-prereq="MEDINT1,FARMACO,INMUNO">Medicina Interna II <span class="tooltip">Prer: Medicina Interna I, Farmacolog√≠a, Inmunolog√≠a</span></div>
  <div class="materia" data-id="REHAB" data-prereq="MEDINT1,FARMACO">Rehabilitaci√≥n <span class="tooltip">Prer: Medicina Interna I, Farmacolog√≠a</span></div>
  <div class="materia" data-id="MEDINT3" data-prereq="MEDINT2">Medicina Interna III <span class="tooltip">Prer: Medicina Interna II</span></div>
  <div class="materia" data-id="IMG_DIAG" data-prereq="INTRO_IMG">Im√°genes Diagn√≥sticas <span class="tooltip">Prer: Introducci√≥n a las Im√°genes Diagn√≥sticas</span></div>
</div>

<div class="semestre"><h3>Semestre 8</h3>
  <div class="materia" data-id="PED1" data-prereq="MEDINT2,GENETICA">Pediatr√≠a I <span class="tooltip">Prer: Medicina Interna II, Gen√©tica</span></div>
  <div class="materia" data-id="PED2" data-prereq="PED1">Pediatr√≠a II <span class="tooltip">Prer: Pediatr√≠a I</span></div>
  <div class="materia" data-id="HAB_PED" data-prereq="REHAB">Habilitaci√≥n Pedi√°trica <span class="tooltip">Prer: Rehabilitaci√≥n</span></div>
</div>

<div class="semestre"><h3>Semestre 9</h3>
  <div class="materia" data-id="CIRUGIA1" data-prereq="PED1">Cirug√≠a I <span class="tooltip">Prer: Pediatr√≠a I</span></div>
  <div class="materia" data-id="CIRUGIA2" data-prereq="CIRUGIA1">Cirug√≠a II <span class="tooltip">Prer: Cirug√≠a I</span></div>
</div>

<div class="semestre"><h3>Semestre 10</h3>
  <div class="materia" data-id="GINE_OBS" data-prereq="CIRUGIA1">Ginecolog√≠a y Obstetricia <span class="tooltip">Prer: Cirug√≠a I</span></div>
  <div class="materia" data-id="ADMIN_SALUD" data-prereq="EPIDEMIO,MEDINT2">Administraci√≥n en Salud <span class="tooltip">Prer: Epidemiolog√≠a, Medicina Interna II</span></div>
  <div class="materia" data-id="PSIQ2" data-prereq="PSIQUIATRIA1,PED1">Psiquiatr√≠a II <span class="tooltip">Prer: Psiquiatr√≠a I, Pediatr√≠a I</span></div>
  <div class="materia" data-id="MED_LEGAL" data-prereq="PATO_ESPECIAL">Medicina Legal I <span class="tooltip">Prer: Patolog√≠a Especial</span></div>
</div>

<script>
  const estados = ['pendiente', 'cursando', 'aprobada'];

  function cargar() {
    const data = JSON.parse(localStorage.getItem('pensumMed') || '{}');
    document.querySelectorAll('.materia').forEach(el => {
      el.dataset.estado = data[el.dataset.id] || 'pendiente';
    });
    verificar();
  }

  function guardar() {
    const data = {};
    document.querySelectorAll('.materia').forEach(el => {
      data[el.dataset.id] = el.dataset.estado;
    });
    localStorage.setItem('pensumMed', JSON.stringify(data));
  }

  function verificar() {
    document.querySelectorAll('.materia').forEach(el => {
      const prereq = el.dataset.prereq;
      if (!prereq) { el.classList.remove('locked'); return; }
      const requisitos = prereq.split(',');
      const ok = requisitos.every(id => {
        const materia = document.querySelector(`.materia[data-id="${id}"]`);
        return materia && materia.dataset.estado === 'aprobada';
      });
      el.classList.toggle('locked', !ok);
    });
  }

  document.querySelectorAll('.materia').forEach(el => {
    el.addEventListener('click', () => {
      if (el.classList.contains('locked')) return;
      const estado = el.dataset.estado;
      const next = estados[(estados.indexOf(estado) + 1) % estados.length];
      el.dataset.estado = next;
      guardar(); verificar();
    });
  });

  window.addEventListener('load', cargar);
</script>
</body>
</html>
